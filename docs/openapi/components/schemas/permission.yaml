Permission:
  allOf:
    - $ref: './commons.yaml#/BaseEntity'
    - $ref: './commons.yaml#/AuthorshipEntity'
    - type: object
      properties:
        code:
          type: string
          description: Unique identifier code for the permission (e.g., read:patient).
          example: 'read:patient'
        label:
          type: string
          description: Human-friendly label describing the permission (e.g., "Read patient records").
          example: 'Leitura de paciente'

PermissionCreateRequest:
  allOf:
    - $ref: './commons.yaml#/AuditMetadata'
    - type: object
      required:
        - code
      properties:
        code:
          type: string
          description: Unique identifier code for the permission.
        label:
          type: string
          description: Human-friendly label for the permission.
          example: 'Criação de usuário'
        roleIds:
          type: array
          items:
            type: string
            format: uuid
          description: List of role IDs to link with this permission.

PermissionUpdateRequest:
  allOf:
    - $ref: './commons.yaml#/AuditMetadata'
    - type: object
      properties:
        code:
          type: string
        label:
          type: string
          description: Human-friendly label for the permission.
          example: 'Atualização de usuário'
        roleIds:
          type: array
          items:
            type: string
            format: uuid

PermissionListResponse:
  type: object
  properties:
    items:
      type: array
      items:
        $ref: '#/Permission'
      description: Array of permission objects.
    total:
      type: integer
      description: Total count of permissions.

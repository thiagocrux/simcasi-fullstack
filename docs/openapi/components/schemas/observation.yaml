Observation:
  allOf:
    - $ref: './commons.yaml#/BaseEntity'
    - $ref: './commons.yaml#/AuthorshipEntity'
    - type: object
      properties:
        patientId:
          type: string
          format: uuid
          description: Linked patient unique identifier.
        hasPartnerBeingTreated:
          type: boolean
          description: Indicates if the patient's sexual partner is undergoing treatment.
        observations:
          type: string
          description: Clinical observations or case notes.

ObservationCreateRequest:
  allOf:
    - $ref: './commons.yaml#/AuditMetadata'
    - type: object
      required:
        - patientId
        - hasPartnerBeingTreated
        - observations
      properties:
        patientId:
          type: string
          format: uuid
        hasPartnerBeingTreated:
          type: boolean
        observations:
          type: string

ObservationUpdateRequest:
  allOf:
    - $ref: './commons.yaml#/AuditMetadata'
    - type: object
      properties:
        hasPartnerBeingTreated:
          type: boolean
        observations:
          type: string

ObservationListResponse:
  type: object
  properties:
    items:
      type: array
      items:
        $ref: '#/Observation'
      description: Array of observation records.
    total:
      type: integer
      description: Total count of records.
